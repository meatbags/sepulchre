var stk=function(e){function r(t){if(n[t])return n[t].exports;var o=n[t]={i:t,l:!1,exports:{}};return e[t].call(o.exports,o,o.exports,r),o.l=!0,o.exports}var n={};return r.m=e,r.c=n,r.d=function(e,n,t){r.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:t})},r.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(n,"a",n),n},r.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},r.p="",r(r.s=0)}([function(e,r,n){"use strict";var t={init:function(){var e=window.innerWidth,r=window.innerHeight;t.renderer=new THREE.WebGLRenderer,t.renderer.setSize(e,r),t.renderer.setClearColor(4473924,1),document.getElementById("wrapper").appendChild(t.renderer.domElement),t.scene=new THREE.Scene,t.player=new Collider.Player(t.renderer.domElement),t.scene.add(t.player.object),t.colliderSystem=new Collider.System,t.loadModels(),t.loadLighting(),t.initPostProcessing(e,r),t.time=(new Date).getTime(),t.age=0,t.loop()},initPostProcessing:function(e,r){t.renderScene=new THREE.RenderPass(t.scene,t.player.camera),t.FXAAPass=new THREE.ShaderPass(THREE.FXAAShader),t.FXAAPass.uniforms.resolution.value.set(1/e,1/r),t.bloomPass=new THREE.UnrealBloomPass(new THREE.Vector2(e,r),.5,.7,.9),t.bloomPass.renderToScreen=!0,t.effectsComposer=new THREE.EffectComposer(t.renderer),t.effectsComposer.setSize(e,r),t.effectsComposer.addPass(t.renderScene),t.effectsComposer.addPass(t.FXAAPass),t.effectsComposer.addPass(t.bloomPass),t.renderer.gammaInput=!0,t.renderer.gammaOutput=!0},loadModels:function(){t.ready=!0;var e=new THREE.Mesh(new THREE.BoxBufferGeometry(200,1,200),new THREE.MeshPhysicalMaterial({emissive:2236962,roughness:1}));t.scene.add(e),t.colliderSystem.add(new Collider.Mesh(e));for(var r=function(e){return Math.random()*e-e/2},n=0,o=0;o<1e3;o++){n+=.03;var s=40*Math.sin(n)+r(5),a=.3*o+r(2),i=40*Math.cos(n)+r(10),d=5+2*Math.random(),l=3+5*Math.random(),c=new THREE.Mesh(new THREE.BoxBufferGeometry(d,l,d),new THREE.MeshPhysicalMaterial({roughness:1}));c.position.set(s,a,i);var m=r(Math.PI/3),u=r(Math.PI/3),f=r(Math.PI/3);c.rotation.set(m,u,f),t.scene.add(c),t.colliderSystem.add(new Collider.Mesh(c))}},loadLighting:function(){t.lights={p1:new THREE.PointLight(16777215,1,100,2),a1:new THREE.AmbientLight(16777215,.05)},t.lights.p1.position.set(0,5,0),t.scene.add(t.lights.a1,t.lights.p1)},update:function(e){t.player.update(e,t.colliderSystem)},render:function(){t.effectsComposer.render()},loop:function(){requestAnimationFrame(t.loop);var e=(new Date).getTime(),r=(e-t.time)/1e3;t.time=e,t.ready&&(t.update(r),t.render())}};window.onload=t.init}]);